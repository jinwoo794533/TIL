# UFS 파일 시스템

 

유닉스 파일 시스템의 기본 디스크 기반 파일 시스템이다.

유닉스와 유닉스 계열 운영체제에서 사용되는 파일 시스템이다.

UFS 파일 시스템에 디스크를 만들기 이전에 관리자는 파티션을 미리 만들어야한다.



- 리눅스에서는 다른 유닉스 운영체제와의 바이너리 호환성을 위해 UFS를 지원하지만 Read 동작에 국한된 것으로 UFS에 Writitng 하는 작업은 완벽하게 지원하지 않는다.

- UFS 구조

  ![img](https://mblogthumb-phinf.pstatic.net/20130123_219/addong1224_1358943398784GJSUp_PNG/%B1%B8%C1%B6.png?type=w2)

- **disk label**은 디스크마다 존재한다. 디스크의 첫번째 섹터를 나타낸다.

- **부트 블록(Boot Block)** : 디스크의 가장 처음 저장되는 데이터 영역으로 UNIX 운영체제의 Bootstrap을 위한 블록
- **슈퍼 블록(Super Block)** : 디스크 파일시스템의 식별을 위한 Magic Number 등 전체 디스크에 대한 정보가 저장되어 있는 블록으로 파일시스템을 기술하는 정보를 저장
- **실린더 그룹(Cylinder Group)** : 슈퍼 블록의 복제본, 실린더 그룹 블록, 아이노드(inode) 테이블, 데이터 블록



### 실린더 그룹 내의 구조

- **슈퍼 블록의 복제본** : 슈퍼 블록은 매우 중요한 데이터이기 때문에 추후 문제 발생 시 복구를 위해 모든 실린더 그룹마다 복사본 유지
- **실린더 그룹 블록** : 각각의 실린더 그룹에 대한 정보를 포함
- **아이노드(inode) 테이블** : 개개의 파일이나 디렉터리에 대한 정보를 저장하고 있는 구조체, 아이노드는 파일에 관한 정보를 담고 있는 번호, 파일들은 고유한 아이노드 숫자를 통해 식별이 가능
- **데이터 블록** : 실제 데이터가 파일의 형태로 저장되는 공간







## UFS의 사용자적 특징

- UFS는 계층적 파일 시스템이며 완전한 사용자 기반 파일 접근 허가 메커니즘 사용
- 시스템상의 각 파일은 특정 사용자에게 소유되며, 원칙적으로는 해당 사용자만이 파일에 대한 조작을 수행할 수 있다. 
- Root 사용자와 같이 특권 사용자의 경우 모든 파일에 대한 조작 수행 권한을 가진다.
- 예외적으로는 특권이 없는 일반 사용자들이 Super User와 같은 특수 권한을 통해 해당 파일에 접근할 수 있도록 한다. 



## UFS의 구조적 특징

- UFS는 실린더 그룹을 이용하여 모든 데이터를 관리한다.
- 각각의 실린더에는 Book-Keeping Information(BKI)를 두고 이를 이용해 실린더를 관리하며, Super Block의 백업본, 사용 가능한 블록 리스트를 나타내는 BitMap, 할당된 아이노드 개수 등의 정보를 포함, 이러한 실린더들은 파일 시스템의 기본 단위가 된다.
- 같은 디렉터리에 있느 파일은 같은 실린더 그룹으로, 연관된 데이터블럭 또한 최대한 같은 실린더 그룹으로 할당되도록 한다.
- 한 파일의 데이터 블록을 찾을 때도 최대 16개 이상의 실린더를 넘지 않는다.
- 클러스터링 기법을 추가한다.





